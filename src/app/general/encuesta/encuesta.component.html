<div class="container">
    <form name="form" [formGroup]="formEncuesta" (ngSubmit)="formEncuesta.valid">
        <div class="row justify-content-md-center">
            <div class="col-lg-4">
                <h1 class="text-center my-3">Encuesta</h1>
                <input type="text"  class="form-control mb-3" placeholder="Nombre" 
                formControlName="nombre"
                [ngClass]="{'is-invalid':formEncuesta.get('nombre').touched && formEncuesta.get('nombre').invalid}" />
                <div class="invalid-feedback" *ngIf="formEncuesta.get('nombre').touched && formEncuesta.get('nombre').errors?.required">
                    El nombre es requerido
                </div>
                <input type="text" class="form-control mb-3" placeholder="Apellido" 
                formControlName="apellido" 
                [ngClass]="{'is-invalid':formEncuesta.get('apellido').touched && formEncuesta.get('apellido').invalid}" />
                <div class="invalid-feedback" *ngIf="formEncuesta.get('apellido').touched && formEncuesta.get('apellido').errors?.required">
                    El apellido es requerido
                </div>
                <input type="number"  class="form-control mb-3" placeholder="Edad" 
                formControlName="edad"
                [ngClass]="{'is-invalid':formEncuesta.get('edad').touched && formEncuesta.get('edad').invalid}" />
                <div class="invalid-feedback" *ngIf="formEncuesta.get('edad').touched && formEncuesta.get('edad').errors?.required">
                    La edad es requerida
                </div>
                <div class="invalid-feedback" *ngIf="formEncuesta.get('edad').touched && formEncuesta.get('edad').errors?.max || formEncuesta.get('edad').errors?.min">
                    La edad debe ser mayor de 18 y menor de 99
                </div>
                <input type="number"  class="form-control mb-3" placeholder="Telefono" 
                formControlName="telefono"
                [ngClass]="{'is-invalid':formEncuesta.get('telefono').touched && formEncuesta.get('telefono').invalid}" />
                <div class="invalid-feedback" *ngIf="formEncuesta.get('telefono').touched && formEncuesta.get('telefono').errors?.required">
                    El telefono es requerido
                </div>
                <div class="invalid-feedback" *ngIf="formEncuesta.get('telefono').touched && formEncuesta.get('telefono').errors?.max">
                    El numero de telefono tiene que tener como maximo 10 caracteres
                </div>
                <fieldset class="border p-2">
                    <legend class="w-auto">¿Cual es su juego favorito?</legend>
                    <select class="form-control" formControlName="favorito"
                    [ngClass]="{'is-invalid':formEncuesta.get('favorito').touched && formEncuesta.get('favorito').invalid}">
                        <option value="" disabled selected>Seleccione el juego...</option>
                        <option value="{{juego.nombre}}" *ngFor="let juego of listaJuegos">{{juego.nombre}}</option>
                    </select>
                    <div class="invalid-feedback" *ngIf="formEncuesta.get('favorito').errors?.required">
                        Cual es tu juego preferido es requerido
                    </div>
                </fieldset>
                <fieldset class="border p-2">
                    <legend class="w-auto">¿La plataforma te resulta cómoda?</legend>
                    <div class="text-center h5 ">
                        
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" value="Si" formControlName="comodo">
                            <label class="form-check-label" >Si</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" value="No" formControlName="comodo">
                            <label class="form-check-label">No</label>
                        </div>
                    </div>
                    <div class="text-danger" *ngIf="formEncuesta.get('comodo').errors?.required">
                        La plataforma te resulta cómoda es requerido
                    </div>
                </fieldset>
                <fieldset class="border p-2">
                    <legend class="w-auto">¿Que juego te gustaria agregar?</legend>
                    <input type="text" placeholder="Nombre del juego" class="form-control" formControlName="agregarias"
                    [ngClass]="{'is-invalid':formEncuesta.get('agregarias').touched && formEncuesta.get('agregarias').invalid}">
                    <div class="invalid-feedback" *ngIf="formEncuesta.get('agregarias').errors?.required">
                        Que juego te gustaria agregar es requerido
                    </div>
                    <div class="invalid-feedback" *ngIf="formEncuesta.get('agregarias').errors?.minLength">
                        Que juego te gustaria agregar debe tener como minimo 8 caracteres
                    </div>
                </fieldset>
                <div class="text-center my-3">
                    <div class="btn-group shadow">
                        <button type="button" class="btn btn-info"  type="submit" (click)="guardarEncuesta()" [disabled]="!formEncuesta.valid">Enviar encuesta</button>
                    </div>
                </div>
                <div *ngIf="errorUsuario" class="alert alert-danger box-msg" role="alert">
                    <strong>Error!</strong> Datos no validos volver a intentar
                </div>
                <div *ngIf="seEnvioFormulario" class="alert alert-success">En formulario se envio correctamente!</div>
            </div>
        </div>
    </form>
    
</div>